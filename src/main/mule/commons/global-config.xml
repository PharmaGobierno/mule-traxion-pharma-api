<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:pubsub="http://www.mulesoft.org/schema/mule/pubsub"
	xmlns:kafka="http://www.mulesoft.org/schema/mule/kafka"
	xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns:secure-properties="http://www.mulesoft.org/schema/mule/secure-properties"
	xmlns:api-gateway="http://www.mulesoft.org/schema/mule/api-gateway"
	xmlns:tls="http://www.mulesoft.org/schema/mule/tls" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd 
http://www.mulesoft.org/schema/mule/tls http://www.mulesoft.org/schema/mule/tls/current/mule-tls.xsd http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/api-gateway http://www.mulesoft.org/schema/mule/api-gateway/current/mule-api-gateway.xsd
http://www.mulesoft.org/schema/mule/secure-properties http://www.mulesoft.org/schema/mule/secure-properties/current/mule-secure-properties.xsd
http://www.mulesoft.org/schema/mule/kafka http://www.mulesoft.org/schema/mule/kafka/current/mule-kafka.xsd
http://www.mulesoft.org/schema/mule/pubsub http://www.mulesoft.org/schema/mule/pubsub/current/mule-pubsub.xsd">
	<tls:context name="TLS_Context" doc:name="TLS Context" doc:id="bb89a54d-a80c-42dc-aed5-c45904e9e8ca" >
		<tls:key-store type="pkcs12" path="${https.listener.key.store.path}" keyPassword="${https.listener.key.store.key.password}" password="${https.listener.key.store.password}" />
	</tls:context>
	<global-property doc:name="Global Property" doc:id="8a2247b3-bde4-46c9-87c5-b7902709dd31" name="env" value="uat" />
	<configuration-properties doc:name="Configuration properties" doc:id="5d762ba0-a58e-4d71-b63b-94682a4fe297" file="traxion-pharma-api-${env}.properties" />
	<api-gateway:autodiscovery apiId="${anypoint.platform.autodiscovery}" ignoreBasePath="true" doc:name="API Autodiscovery" doc:id="eb48ac63-da94-4d5e-8d69-36fdda6c177e" flowRef="traxion-pharma-api-main" />
	<http:request-config name="HTTP_Request_configuration-process-pharma-api" doc:name="HTTP Request configuration" doc:id="916393fe-36ab-4b52-830d-e4982e21fcb9" responseTimeout="${client.process.pharma.api.https.response.timeout}">
		<http:request-connection protocol="HTTPS" host="${client.process.pharma.api.https.host}" port="${client.process.pharma.api.https.port}" maxConnections="${client.process.pharma.api.https.max.connections}" connectionIdleTimeout="${client.process.pharma.api.https.connection.idle.timeout}" responseBufferSize="${client.process.pharma.api.https.response.buffer.size}"/>
	</http:request-config>
	<http:request-config name="HTTP_Request_configuration-system-tep-api" doc:name="HTTP Request configuration" doc:id="c6bba8d2-1fda-476a-8127-c83c514603f3" basePath="${client.system.tep.api.base.path}" responseTimeout="${client.system.tep.api.https.response.timeout}">
		<http:request-connection host="${client.system.tep.api.https.host}" port="${client.system.tep.api.https.port}" protocol="${client.system.tep.api.https.protocol}" maxConnections="${client.system.tep.api.https.max.connections}" connectionIdleTimeout="${client.system.tep.api.https.connection.idle.timeout}" responseBufferSize="${client.system.tep.api.https.response.buffer.size}"/>
	</http:request-config>
	<kafka:producer-config name="Apache_Kafka_Producer_configuration" doc:name="Apache Kafka Producer configuration" doc:id="c8d7d408-0217-4d8a-824f-a62f29dfb01d" topic="traxporta.sap.01.in">
		<kafka:producer-sasl-plain-connection username="${kafka.settings.bootstrap.server.user}" password="${kafka.settings.bootstrap.server.password}" endpointIdentificationAlgorithm="disabled">
			<tls:context >
				<tls:trust-store insecure="true" />
			</tls:context>
			<kafka:bootstrap-servers >
				<kafka:bootstrap-server value="${kafka.settings.bootstrap.server.url}" />
			</kafka:bootstrap-servers>
		</kafka:producer-sasl-plain-connection>
	</kafka:producer-config> <!-- -->
	<pubsub:config name="Google_Pub_Sub_Configuration" doc:name="Google Pub Sub Configuration" doc:id="a8f37c8a-f3d3-47cf-aec6-ac1e554c0991" >
		<pubsub:connection privateKeyId="${pubsub.private.key.id}" clientId="${pubsub.client.id}" clientEmail="${pubsub.client.email}" >
			<pubsub:private-key ><![CDATA[${pubsub.private.key}]]></pubsub:private-key>
		</pubsub:connection>
	</pubsub:config>
</mule>
