<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<sub-flow name="orchestrator-kafka-wms-to-pisa-operations-suppliers-notification" doc:id="400fb2b4-a906-4d13-b478-b908ff55a3dd" >
		<logger level="INFO" doc:name="Logger" doc:id="2002f82a-e7c5-413e-a9b7-27c7d1143cce" message="#[payload]" />
		<ee:transform doc:name="Transform Message" doc:id="4a632770-49ca-4403-bd67-c9b7dab72be6">
			<ee:message>
				<ee:set-payload><![CDATA[%dw 2.0
output application/json
---

payload]]></ee:set-payload>
			</ee:message>
		</ee:transform>
		<flow-ref doc:name="client-kafka-publish-supplier-notifications" doc:id="9c89783c-49ba-49ee-8c7e-df4fb1d55be7" name="client-kafka-publish-supplier-notifications"/>
		<ee:transform doc:name="Transform Message1" doc:id="ba3468bb-e1e6-4d89-8e93-a60330abbd2b" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{
    "traxion_response": {
        "response": {
            "message": "successful",
            "data": {
              "transactionId": correlationId
            }
        },
        "completedSuccessfully": true
    }
}]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</sub-flow>
	<sub-flow name="orchestrator-kafka-wms-to-pisa-operations-confirm-receipt" doc:id="b31cf1a5-9917-42a5-8394-248edc01b666" >
		<logger level="INFO" doc:name="Logger" doc:id="0ffa821c-81ca-4e47-b465-2a98da80cd51" message="#[payload]" />
		<ee:transform doc:name="Transform Message" doc:id="7a7d4e91-f537-49e6-8817-60e544a94c47" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---

payload]]></ee:set-payload>
			</ee:message>
		</ee:transform>
		<flow-ref doc:name="client-kafka-confirm-receipt" doc:id="e9ba3c58-0daf-4553-9e38-9d24e41860a2" name="client-kafka-confirm-receipt" />
		<ee:transform doc:name="Transform Message1" doc:id="5b667adb-a5e5-43b7-9faa-fff64d887316" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{
    "traxion_response": {
        "response": {
            "message": "successful",
            "data": {
              "transactionId": correlationId
            }
        },
        "completedSuccessfully": true
    }
}]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</sub-flow>
</mule>
